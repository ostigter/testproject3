package org.ozsoft.portfoliomanager.domain;

import org.junit.Test;

public class PortfolioTest {

    // private static final double DELTA = 0.01;

    @Test
    public void test() {
        // // Create new (empty) portfolio.
        // Portfolio portfolio = new Portfolio();
        // Assert.assertEquals(0.00, portfolio.getCurrentCost(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getCurrentValue(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getCurrentChange(), DELTA);
        //
        // // Add positions for some stocks.
        // Stock stock1 = new Stock("TST1", "Test Stock 1");
        // stock1.setPrice(20.00);
        // Stock stock2 = new Stock("TST2", "Test Stock 2");
        // stock2.setPrice(10.00);
        // Assert.assertNull(portfolio.getPosition(stock1));
        // Assert.assertNull(portfolio.getPosition(stock2));
        //
        // // Add a BUY transactions for stock 1.
        // portfolio.addTransaction(new Transaction(1L, TransactionType.BUY, stock1, 100, 20.00, 5.00));
        // portfolio.update();
        // Assert.assertEquals(2005.00, portfolio.getCurrentCost(), DELTA);
        // Assert.assertEquals(2000.00, portfolio.getCurrentValue(), DELTA);
        // Assert.assertEquals(-5.00, portfolio.getCurrentChange(), DELTA);
        // Assert.assertEquals(-0.25, portfolio.getCurrentChangePercentage(), DELTA);
        // Assert.assertEquals(2005.00, portfolio.getTotalCost(), DELTA);
        // Assert.assertEquals(2000.00, portfolio.getTotalValue(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getTotalDividend(), DELTA);
        // Assert.assertEquals(-10.00, portfolio.getTotalReturn(), DELTA);
        // Assert.assertEquals(-0.50, portfolio.getTotalReturnPercentage(), DELTA);
        //
        // // Add a BUY transaction for stock 2
        // portfolio.addTransaction(new Transaction(2L, TransactionType.BUY, stock2, 100, 10.00, 1.00));
        // portfolio.update();
        // Assert.assertEquals(3006.00, portfolio.getCurrentCost(), DELTA);
        // Assert.assertEquals(3000.00, portfolio.getCurrentValue(), DELTA);
        // Assert.assertEquals(-6.00, portfolio.getCurrentChange(), DELTA);
        // Assert.assertEquals(-0.20, portfolio.getCurrentChangePercentage(), DELTA);
        // Assert.assertEquals(3006.00, portfolio.getTotalCost(), DELTA);
        // Assert.assertEquals(3000.00, portfolio.getTotalValue(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getTotalDividend(), DELTA);
        // Assert.assertEquals(-12.00, portfolio.getTotalReturn(), DELTA);
        // Assert.assertEquals(-0.40, portfolio.getTotalReturnPercentage(), DELTA);
        //
        // // Add a DIVIDEND transaction for stock 1
        // portfolio.addTransaction(new Transaction(3L, TransactionType.DIVIDEND, stock1, 100, 1.00, 0.00));
        // portfolio.update();
        // Assert.assertEquals(3006.00, portfolio.getCurrentCost(), DELTA);
        // Assert.assertEquals(3000.00, portfolio.getCurrentValue(), DELTA);
        // Assert.assertEquals(-6.00, portfolio.getCurrentChange(), DELTA);
        // Assert.assertEquals(-0.20, portfolio.getCurrentChangePercentage(), DELTA);
        // Assert.assertEquals(3006.00, portfolio.getTotalCost(), DELTA);
        // Assert.assertEquals(3000.00, portfolio.getTotalValue(), DELTA);
        // Assert.assertEquals(100.00, portfolio.getTotalDividend(), DELTA);
        // Assert.assertEquals(88.00, portfolio.getTotalReturn(), DELTA);
        // Assert.assertEquals(2.93, portfolio.getTotalReturnPercentage(), DELTA);
        //
        // // Add a SELL transaction for stock 2
        // portfolio.addTransaction(new Transaction(4L, TransactionType.SELL, stock2, 100, 15.00, 2.00));
        // portfolio.update();
        // Assert.assertEquals(2005.00, portfolio.getCurrentCost(), DELTA);
        // Assert.assertEquals(2000.00, portfolio.getCurrentValue(), DELTA);
        // Assert.assertEquals(-5.00, portfolio.getCurrentChange(), DELTA);
        // Assert.assertEquals(-0.25, portfolio.getCurrentChangePercentage(), DELTA);
        // Assert.assertEquals(3008.00, portfolio.getTotalCost(), DELTA);
        // Assert.assertEquals(2000.00, portfolio.getTotalValue(), DELTA);
        // Assert.assertEquals(100.00, portfolio.getTotalDividend(), DELTA);
        // Assert.assertEquals(587.00, portfolio.getTotalReturn(), DELTA);
        // Assert.assertEquals(19.51, portfolio.getTotalReturnPercentage(), DELTA);
        //
        // // Add a SELL transaction for stock 1
        // portfolio.addTransaction(new Transaction(5L, TransactionType.SELL, stock1, 100, 25.00, 5.00));
        // portfolio.update();
        // Assert.assertEquals(0.00, portfolio.getCurrentCost(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getCurrentValue(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getCurrentChange(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getCurrentChangePercentage(), DELTA);
        // Assert.assertEquals(3013.00, portfolio.getTotalCost(), DELTA);
        // Assert.assertEquals(0.00, portfolio.getTotalValue(), DELTA);
        // Assert.assertEquals(100.00, portfolio.getTotalDividend(), DELTA);
        // Assert.assertEquals(1087.00, portfolio.getTotalReturn(), DELTA);
        // Assert.assertEquals(36.08, portfolio.getTotalReturnPercentage(), DELTA);
    }
}
